<!-- sldsValidatorIgnore -->
<template>
    <div>
        
    <template if:false={selectedRecord}>
        <div class=" ">
            <c-mas-custom-lookup-search
                onlookupchange={handleOnchange} onlookupclick={handleOnclick} onlookupremove={removevalues} placeholder={placeholder}>
            </c-mas-custom-lookup-search>
        </div>
    </template>
    <div >
        <template if:true={error}>
            <template if:true={error.details}>
                <template if:true={error.details.body}>
                    {error.details.body.message}
                </template>
            </template>
        </template>
    </div>
    
        <template if:false={selectedRecord}>
            <template if:true={records}>
                <div class="slds-border_left slds-border_right slds-border_bottom" style="background-color: white;overflow:auto; max-height:250px; width: calc(100% - 64px);position:absolute; z-index:10;">
                <template for:each={records} for:item="record">
                    <c-mas-custom-lookup-record-list key={record.Id} record={record}
                        onselect={handleSelect} iconname={iconname}
                        fieldname={searchfield} is-stacking-plan={isStackingPlan}>
                    </c-mas-custom-lookup-record-list>
                </template>
                </div>
            </template>
        </template>
        <template if:false={selectedRecord}>
        </template>
     
    <div class=" ">
        <template if:true={selectedRecord}>
            <template if:false={blank}>
                <div class="slds-combobox__form-element slds-input-has-icon
                slds-input-has-icon_left-right" role="none">
                <span class="slds-icon_container
                            slds-icon-standard-account
                            slds-combobox__input-entity-icon" title="Account">
                    <lightning-icon icon-name={iconname} ></lightning-icon>
                </span>
                <input class="slds-input slds-combobox__input
                        slds-combobox__input-value custlookupAsset"
                        id="combobox-id-5" aria-controls="listbox-id-5"
                        autocomplete="off" role="textbox" type="text"
                        placeholder="Select an Option" readonly=""
                        value={selectedRecord.Name}
                        disabled
                        />
                <button class="sicon_container slds-button slds-button_icon
                                slds-input__icon slds-input__icon_right"
                        title="Remove selected option"
                        onclick={handleRemove}>
                    <lightning-icon icon-name="utility:close" size="xx-small">

                    </lightning-icon>
                    <span class="slds-assistive-text">Remove selected option</span>
                </button>
            </div>
            </template>
            
            <template if:true={blank}>
            <div class="slds-combobox__form-element slds-input-has-icon
                            slds-input-has-icon_left-right" style="border: 1px solid;border-radius: 2px; border-color:#ddd" role="none">
                    <span class="slds-icon_container
                                slds-icon-standard-account
                                slds-combobox__input-entity-icon" title="Account">
                        <lightning-icon icon-name={iconname} ></lightning-icon>
                    </span>
                    <input class="slds-input slds-combobox__input
                           slds-combobox__input-value custlookupAsset"
                           id="combobox-id-4" aria-controls="listbox-id-5"
                           autocomplete="off" role="textbox" type="text"
                           placeholder="Select an Option" readonly=""
                           value={selectedRecord.Name}
                           disabled
                           />
                    <button class="sicon_container slds-button slds-button_icon
                                   slds-input__icon slds-input__icon_right"
                            title="Remove selected option"
                            onclick={handleRemove}>
                        <lightning-icon icon-name="utility:close" size="xx-small">

                        </lightning-icon>
                        <span class="slds-assistive-text">Remove selected option</span>
                    </button>
                </div>
            </template>
            <!--<lightning-layout>
                <lightning-layout-item>
                    <lightning-pill label={selectedRecord.Name} onremove={handleRemove}>
                        <lightning-icon icon-name={iconname}></lightning-icon>
                    </lightning-pill>
                </lightning-layout-item>
            </lightning-layout> -->
        </template>
    </div>
    </div>
</template>