<template>
  <form onsubmit={handleSubmit}>
    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
      class="slds-modal slds-fade-in-open">
      <div class="slds-modal__container">
        <div class="slds-modal__header">
          <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Edit Asset</h1>
        </div>
        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
          <div>
            <!-- <label>Asset</label> -->
            <div class="mt-10">
              <!--<lightning-input name="search-contact" label="Search Contact" variant="label-hidden"
                value={asset.Name}>
              </lightning-input>-->
              <c-mas-custom-lookup placeholder="Search Asset" iconname="standard:home" object-name="Asset"
                searchfield="Name" fieldstoquery="" data-index={index} onselectedrec={handleAssetSelect}
                filter-conditions="" blank="true">
              </c-mas-custom-lookup>
              <template if:true={isLotPurposeType}>
                <div class="mt-10">
                  <lightning-combobox variant="label-hidden" name="Lot_House_Model__c" value={}
                    placeholder="Lot House Model" options={houseLotOptions} onchange={handleLotChange}>
                  </lightning-combobox>
                </div>
              </template>
              <template if:true={hasLot}>
                <div class="mt-20">
                  <label>Model</label>
                  <div class="mt-10">
                    <lightning-input type="text" name="Lot_House_Model_Name__c" label="Model Name"
                      onchange={handleFormInputChange}></lightning-input>
                  </div>
                  <div class="mt-10">
                    <lightning-input type="text" name="Lot_House_Model_Price__c" label="Model Price"
                      onchange={handleFormInputChange}></lightning-input>
                  </div>
                </div>
              </template>
            </div>
          </div>
          <div class="mt-20">
            <label>Contract Date</label>
            <div class="mt-10">
              <lightning-input type="date" name="Preliminary_Contract_Signed_D__c" variant="label-hidden" label="Date"
                data-id="contract-date" value={closingdetail.Preliminary_Contract_Signed_D__c}
                onchange={handleFormInputChange}></lightning-input>
            </div>
          </div>
          <div class="mt-20">
            <label>Asset Price</label>
            <div class="mt-10">
              <lightning-combobox variant="label-hidden" name="Asset_Price__c" value={closingdetail.Asset_Price__c}
                placeholder="Select Price" options={assetPriceOptions} onchange={handleAssetPriceChange}>
              </lightning-combobox>
            </div>
          </div>
          <div class="mt-20">
            <label>Sales Representative</label>
            <div class="mt-10">
              <!--<lightning-input name="sales-rep" label="Sales Rep" variant="label-hidden" value={closingdetail.Sales_Representative__r.Name}>
              </lightning-input>-->
                <c-mas-custom-lookup
                    placeholder="Search Sales Rep"
                    iconname="standard:service_resource"
                    object-name="User"
                    searchfield="Name"
                    fieldstoquery="Email, Phone"
                    data-index={index}
                    onselectedrec={handleSalesRepSelect}
                    filter-conditions=""
                    blank="false"
                    selected-record-id={closingdetail.Sales_Representative__c}>
                </c-mas-custom-lookup>
            </div>
          </div>
          <div class="mt-20">
            <label>Is this a developer sale?</label>
            <div class="mt-10">
              <!--<lightning-input name="dev-sale" label="Developer Sale" variant="label-hidden" value={closingdetail.Developer_Deal__c}>
              </lightning-input>-->

              <lightning-combobox variant="label-hidden"
                                  name="Developer_Deal__c"
                                  value={closingdetail.Developer_Deal__c}
                                  placeholder="Select Progress"
                                  options={developerDealOptions}
                                  onchange={handleDeveloperDealChange}></lightning-combobox>
            </div>
          </div>
          <div class="mt-20">
            <label>Is this a reservation?</label>
            <div class="mt-10">
              <lightning-combobox variant="label-hidden" name="Is_Reservation__c"
                value={closingdetail.Is_Reservation__c} placeholder="Is this a reservation?"
                options={developerDealOptions} onchange={handleReservationChange}></lightning-combobox>
            </div>
          </div>
        </div>
        <div class="slds-modal__footer slds-modal__footer_directional">
          <div class="modal__container__actions">
            <div class="modal__container__cancel" onclick={handleCancel}>
              Cancel
            </div>
            <button class="button-primary"  onclick={handleSubmit}>Continue</button>
          </div>
        </div>
      </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
  </form>
</template>
